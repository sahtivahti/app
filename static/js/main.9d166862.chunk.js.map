{"version":3,"sources":["Auth0Connect.js","Component/Copyright.tsx","Component/Title.tsx","Component/Paper.tsx","Component/RecentBrew.tsx","Service/Config.ts","Component/MenuItems.tsx","Model/Recipe.ts","Model/Hop.ts","Model/Fermentable.ts","Service/Api.ts","Component/NewRecipeDialog.tsx","Component/NewRecipeButton.tsx","Component/Shrug.tsx","Component/Recipes.tsx","Component/Brew.tsx","Component/Profile.tsx","Component/Confirm.tsx","Component/ArchiveRecipeButton.tsx","Component/RecipeTimestamps.tsx","Component/NewHopDialog.tsx","Component/RecipeHops.tsx","Component/NewFermentableDialog.tsx","Component/RecipeFermentables.tsx","Component/RecipeDetails.tsx","Component/Dashboard.tsx","Component/SignIn.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["auth0ClientCache","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","packagejson","version","Title","props","size","component","small","normal","gutterBottom","children","useStyles","makeStyles","theme","createStyles","paper","padding","spacing","Paper","classes","className","RecentBrew","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","React","createContext","useAuth0","useContext","config","baseurl","origin","indexOf","MenuItems","logout","ListItem","button","to","ListItemIcon","ListItemText","primary","Divider","onClick","returnTo","Recipe","data","id","name","author","style","batchSize","createdAt","updatedAt","hops","fermentables","ibu","abv","colorName","Object","assign","this","Hop","quantity","time","Fermentable","api","client","createClient","get","response","map","x","recipe","post","put","delete","hop","recipeId","hopId","fermentable","fermentableId","a","async","getTokenSilently","token","axios","create","baseURL","headers","Authorization","Promise","resolve","NewRecipeDialog","useState","setName","setRecipeId","saving","setSaving","user","Dialog","open","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","type","fullWidth","onChange","e","target","value","DialogActions","Button","email","createRecipe","createdRecipe","disabled","NewRecipeButton","setOpen","Fragment","Shrug","Grid","container","direction","alignContent","alignItems","item","text","Recipes","recipes","setRecipes","loading","setLoading","url","useRouteMatch","useEffect","getRecipes","CircularProgress","xs","length","Table","TableHead","TableRow","TableCell","TableBody","key","join","f","Brew","popover","Profile","anchorEl","setAnchorEl","Boolean","undefined","currentTarget","Avatar","alt","src","picture","Popover","anchorOrigin","vertical","horizontal","transformOrigin","Confirm","aria-describedby","ArchiveRecipeButton","confirmOpen","setConfirmOpen","recipeArchived","setRecipeArchived","archiving","setArchiving","Icon","confirmed","archiveRecipeById","RecipeTimestamps","moment","fromNow","toString","NewHopDialog","setQuantity","setTime","RecipeHops","onHopAdded","onHopRemoved","newHopDialogOpen","setNewHopDialogOpen","hopRemovals","setHopRemovals","sort","b","i","toFixed","IconButton","hopIndex","removeHopFromRecipe","splice","TableFooter","reduce","total","h","addHopToRecipe","result","NewFermentableDialog","setColor","RecipeFermentables","onFermentableAdded","onFermentableRemoved","newFermentableDialogOpen","setNewFermentableDialogOpen","fermentableRemovals","setFermentableRemovals","fermentableIndex","removeFermentableFromRecipe","addFermentableToRecipe","root","marginLeft","RecipeDetails","useParams","setRecipe","handleChange","getRecipeDetailsById","justify","md","updateRecipe","hack","JSON","parse","stringify","push","findIndex","display","toolbar","paddingRight","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","width","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","height","overflow","paddingTop","paddingBottom","fixedHeight","Dashboard","CssBaseline","AppBar","clsx","Toolbar","edge","aria-label","noWrap","Drawer","Container","maxWidth","exact","path","Box","pt","marginTop","flexDirection","avatar","backgroundColor","palette","secondary","main","submit","SignIn","loginWithRedirect","mt","App","isAuthenticated","hostname","match","auth0Config","domain","clientId","audience","redirectUri","ReactDOM","render","onRedirectCallback","initOptions","setIsAuthenticated","setUser","auth0Client","setAuth0","createAuth0Client","auth0FromHook","search","includes","handleRedirectCallback","appState","getUser","initAuth0","Provider","getIdTokenClaims","client_id","redirect_uri","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9d166862.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport createAuth0Client from '@auth0/auth0-spa-js';\n\n// Cache auth0Client instance\nlet auth0ClientCache\n\nconst DEFAULT_REDIRECT_CALLBACK = () =>\n  window.history.replaceState({}, document.title, window.location.pathname);\n\nexport const Auth0Context = React.createContext();\nexport const useAuth0 = () => useContext(Auth0Context);\nexport const Auth0Provider = ({\n  children,\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\n  ...initOptions\n}) => {\n  const [isAuthenticated, setIsAuthenticated] = useState();\n  const [user, setUser] = useState();\n  const [auth0Client, setAuth0] = useState();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const initAuth0 = async () => {\n      const auth0FromHook = await createAuth0Client(initOptions);\n      setAuth0(auth0FromHook);\n      auth0ClientCache = auth0FromHook\n\n      if (window.location.search.includes('code=')) {\n        const { appState } = await auth0FromHook.handleRedirectCallback();\n        onRedirectCallback(appState);\n      }\n\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\n\n      setIsAuthenticated(isAuthenticated);\n\n      if (isAuthenticated) {\n        const user = await auth0FromHook.getUser();\n        setUser(user);\n      }\n\n      setLoading(false);\n    };\n    initAuth0();\n    // eslint-disable-next-line\n  }, []);\n\n\n  const handleRedirectCallback = async () => {\n    setLoading(true);\n    await auth0Client.handleRedirectCallback();\n    const user = await auth0Client.getUser();\n    setLoading(false);\n    setIsAuthenticated(true);\n    setUser(user);\n  };\n  return (\n    <Auth0Context.Provider\n      value={{\n        isAuthenticated,\n        user,\n        loading,\n        handleRedirectCallback,\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\n        logout: (...p) => auth0Client.logout(...p)\n      }}\n    >\n      {children}\n    </Auth0Context.Provider>\n  );\n};\n\nexport const getTokenSilently = async () => {\n  return await auth0ClientCache.getTokenSilently();\n}","import React from 'react';\nimport { Typography, Link } from '@material-ui/core';\nimport packagejson from '../../package.json';\n\nconst Copyright: React.FC = () => {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://github.com/sahtivahti\">\n                Sahtivahti\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n            {' '}\n            Version{' '}\n            {packagejson.version}\n        </Typography>\n    );\n};\n\nexport default Copyright;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\n\ntype Props = {\n  size?: string,\n  children: any\n};\n\nconst Title: React.FC<Props> = (props: Props) => {\n  const sizes: any = { small: 'h6', normal: 'h5' };\n  const size = props.size || 'normal';\n\n  return (\n    <Typography component=\"h2\" variant={sizes[size]} color=\"primary\" gutterBottom>\n      {props.children}\n    </Typography>\n  );\n};\n\nTitle.propTypes = {\n  children: PropTypes.node,\n  size: PropTypes.oneOf(['small', 'normal'])\n};\n\nexport default Title;\n","import React from 'react';\nimport { makeStyles, Theme, createStyles, Paper as MaterialPaper } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    paper: {\n      padding: theme.spacing(2)\n    }\n  }),\n);\n\nconst Paper: React.FC = (props) => {\n  const classes = useStyles();\n\n  return (\n    <MaterialPaper className={classes.paper}>\n      {props.children}\n    </MaterialPaper>\n  );\n};\n\nexport default Paper;","import React from 'react';\nimport Title from './Title';\nimport Paper from './Paper';\n\nconst RecentBrew: React.FC = () => {\n  return (\n    <Paper>\n      <Title>Recent Brew</Title>\n      No recent brew :(\n    </Paper>\n  );\n};\n\nexport default RecentBrew;","export const config = {\n  baseurl: window.location.origin.indexOf('localhost') >= 0\n  ? window.location.origin : 'https://sahtivahti.github.io/app'\n};\n","import React from 'react';\nimport { ListItem, ListItemIcon, ListItemText, Divider } from '@material-ui/core';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport RecipesIcon from '@material-ui/icons/MenuBook';\nimport BrewIcon from '@material-ui/icons/Whatshot';\nimport LogoutIcon from '@material-ui/icons/HighlightOff';\n\nimport { Link } from 'react-router-dom';\nimport { useAuth0 } from '../Auth0Connect';\nimport { config } from '../Service/Config';\n\nconst MenuItems: React.FC = () => {\n  const { logout } = useAuth0();\n  const handleLogout = () => logout({ returnTo: config.baseurl });\n\n  return (\n    <div>\n      <ListItem button component={Link} to=\"/\">\n        <ListItemIcon>\n          <DashboardIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Dashboard\" />\n      </ListItem>\n\n      <ListItem button component={Link} to=\"/recipes\">\n        <ListItemIcon>\n          <RecipesIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Recipes\" />\n      </ListItem>\n\n      <ListItem button component={Link} to=\"/brew\">\n        <ListItemIcon>\n          <BrewIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Brew\" />\n      </ListItem>\n\n      <Divider />\n\n      <ListItem button onClick={handleLogout}>\n        <ListItemIcon>\n          <LogoutIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Logout\" />\n      </ListItem>\n    </div>\n  );\n};\n\nexport default MenuItems;\n","import Hop from './Hop';\nimport Fermentable from './Fermentable';\n\nexport default class Recipe {\n  constructor(data?: any) {\n    Object.assign(this, data);\n  }\n\n  public id: string = '';\n  public name: string = '';\n  public author: string|undefined;\n  public style: string|undefined;\n  public batchSize: number = 0;\n  public createdAt: Date|null = null;\n  public updatedAt: Date|null = null;\n  public hops: Hop[] = [];\n  public fermentables: Fermentable[] = [];\n  public ibu: number|undefined;\n  public color: number|undefined;\n  public abv: number|undefined;\n  public colorName: string|undefined;\n}\n","export default class Hop {\n  constructor(data?: any) {\n    Object.assign(this, data);\n  }\n\n  public id: string = '';\n  public name: string = '';\n  public quantity: number = 0.0;\n  public time: number = 0;\n}\n","export default class Fermentable {\n  constructor(data?: any) {\n    Object.assign(this, data);\n  }\n\n  public id: string = '';\n  public name: string = '';\n  public quantity: number = 0.0;\n  public color: number = 0;\n}\n","import Recipe from '../Model/Recipe';\nimport { getTokenSilently } from '../Auth0Connect';\nimport axios, { AxiosInstance } from 'axios';\nimport Hop from '../Model/Hop';\nimport Fermentable from '../Model/Fermentable';\n\nclass Api {\n  private client: any = null;\n\n  public async getRecipes(): Promise<Recipe[]> {\n    const client: AxiosInstance = await this.createClient();\n\n    const response = await client.get<Recipe[]>('/recipes');\n\n    return response.data.map((x: any) => new Recipe(x));\n  }\n\n  public async createRecipe(recipe: Recipe): Promise<Recipe> {\n    const client: AxiosInstance = await this.createClient();\n\n    const response = await client.post<Recipe>('/recipes', recipe);\n\n    return new Recipe(response.data);\n  }\n\n  public async updateRecipe(recipe: Recipe): Promise<Recipe> {\n    const client: AxiosInstance = await this.createClient();\n\n    recipe.batchSize = +recipe.batchSize;\n\n    const response = await client.put<Recipe>('/recipes/' + recipe.id, recipe);\n\n    return new Recipe(response.data);\n  }\n\n  public async getRecipeDetailsById(id: string): Promise<Recipe> {\n    const client: AxiosInstance = await this.createClient();\n\n    const response = await client.get<Recipe>('/recipes/' + id);\n\n    return new Recipe(response.data);\n  }\n\n  public async archiveRecipeById(id: string): Promise<void> {\n    const client: AxiosInstance = await this.createClient();\n\n    await client.delete('/recipes/' + id);\n  }\n\n  public async addHopToRecipe(hop: Hop, recipeId: string): Promise<Hop> {\n    const client: AxiosInstance = await this.createClient();\n\n    hop.quantity = +hop.quantity;\n\n    const response = await client.post<Hop>('/recipes/' + recipeId + '/hop', hop);\n\n    return new Hop(response.data);\n  }\n\n  public async removeHopFromRecipe(hopId: string, recipeId: string): Promise<Hop> {\n    const client: AxiosInstance = await this.createClient();\n\n    const response = await client.delete<Hop>('/recipes/' + recipeId + '/hop/' + hopId);\n\n    return new Hop(response.data);\n  }\n\n  public async addFermentableToRecipe(fermentable: Fermentable, recipeId: string): Promise<Fermentable> {\n    const client: AxiosInstance = await this.createClient();\n\n    fermentable.quantity = +fermentable.quantity;\n    fermentable.color = +fermentable.color;\n\n    const response = await client.post<Fermentable>('/recipes/' + recipeId + '/fermentable', fermentable);\n\n    return new Fermentable(response.data);\n  }\n\n  public async removeFermentableFromRecipe(fermentableId: string, recipeId: string): Promise<Fermentable> {\n    const client: AxiosInstance = await this.createClient();\n\n    const response = await client.delete<Fermentable>('/recipes/' + recipeId + '/fermentable/' + fermentableId);\n\n    return new Fermentable(response.data);\n  }\n\n  private async createClient(): Promise<any> {\n    if (!this.client) {\n      const token = await getTokenSilently();\n\n      this.client = axios.create({\n        baseURL: 'https://rlylkxiomh.execute-api.eu-west-1.amazonaws.com/prod',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n    }\n\n    return Promise.resolve(this.client);\n  }\n}\n\nconst api = new Api();\n\nexport default api;\n","import React, { useState } from 'react';\nimport { Dialog, DialogActions, Button, DialogContent, DialogTitle, DialogContentText, TextField } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport api from '../Service/Api';\nimport Recipe from '../Model/Recipe';\nimport { useAuth0 } from '../Auth0Connect';\nimport { Redirect } from 'react-router-dom';\n\ntype Props = {\n  open: boolean,\n  onClose: () => void\n}\n\nconst NewRecipeDialog: React.FC<Props> = (props: Props) => {\n  const [name, setName] = useState<string>();\n  const [recipeId, setRecipeId] = useState<string>();\n  const [saving, setSaving] = useState<boolean>(false);\n\n  const { user } = useAuth0();\n\n  const handleSave = async () => {\n    const recipe = new Recipe({\n      name,\n      author: user.email\n    });\n\n    setSaving(true);\n    const createdRecipe = await api.createRecipe(recipe);\n    setSaving(false);\n\n    setRecipeId(createdRecipe.id);\n  };\n\n  if (recipeId) {\n    return <Redirect to={`/recipes/${recipeId}`} />\n  }\n\n  return (\n    <Dialog open={props.open} onClose={() => props.onClose()} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Create new recipe</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Please give a name for your new recipe\n        </DialogContentText>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          id=\"name\"\n          label=\"Recipe name\"\n          type=\"text\"\n          fullWidth\n          onChange={(e) => setName(e.target.value)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => props.onClose()} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={handleSave} disabled={!name || saving} color=\"primary\">\n          Save\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nNewRecipeDialog.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired\n};\n\nexport default NewRecipeDialog;\n","import React, { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport NewRecipeDialog from './NewRecipeDialog';\n\nconst NewRecipeButton: React.FC = () => {\n  const [open, setOpen] = useState<boolean>(false);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  \n  return (\n    <React.Fragment>\n      <Button color=\"primary\" onClick={() => setOpen(true)}>\n        New recipe\n      </Button>\n\n      <NewRecipeDialog open={open} onClose={handleClose} />\n    </React.Fragment>\n  );\n};\n\nexport default NewRecipeButton;","import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\n\ntype Props = {\n  text: string\n};\n\nconst Shrug: React.FC<Props> = (props: Props) => {\n  return (\n    <Grid container direction=\"column\" alignContent=\"center\" alignItems=\"center\">\n      <Grid item>\n        <Typography variant=\"h1\" color=\"textSecondary\">¯\\_(ツ)_/¯</Typography>\n      </Grid>\n      <br/>\n      <Grid item>\n        <Typography variant=\"h5\" color=\"textSecondary\">Hoops! {props.text}</Typography>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Shrug;","import React, { useEffect, useState } from 'react';\nimport Recipe from '../Model/Recipe';\nimport api from '../Service/Api';\nimport { Table, TableHead, TableRow, TableCell, TableBody, CircularProgress, Grid } from '@material-ui/core';\nimport Title from './Title';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport NewRecipeButton from './NewRecipeButton';\nimport Paper from './Paper';\nimport Shrug from './Shrug';\n\nconst Recipes: React.FC = () => {\n  const [recipes, setRecipes] = useState<Recipe[]>([]);\n  const [loading, setLoading] = useState<Boolean>(false);\n  const { url } = useRouteMatch();\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      const recipes = await api.getRecipes();\n      setRecipes(recipes);\n      setLoading(false);\n    })();\n  }, []);\n\n  if (loading) {\n   return <Paper><CircularProgress /></Paper>;\n  }\n\n  return (\n    <Paper>\n      <Grid container direction=\"row\" alignContent=\"space-between\">\n        <Grid item xs>\n          <Title>My recipes</Title>\n        </Grid>\n        <Grid item>\n          <NewRecipeButton />\n        </Grid>\n      </Grid>\n\n      {recipes.length === 0 && <Shrug text=\"There are no recipes yet!\" />}\n\n      {recipes.length > 0 && (<Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Name</TableCell>\n            <TableCell>Hops</TableCell>\n            <TableCell>Fermentables</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n        {recipes.map((recipe: Recipe) => (\n          <TableRow key={recipe.id}>\n            <TableCell><Link to={`${url}/${recipe.id}`}>{recipe.name}</Link></TableCell>\n            <TableCell>{recipe.hops.map(hop => hop.name).join(', ')}</TableCell>\n            <TableCell>{recipe.fermentables.map(f => f.name).join(', ')}</TableCell>\n          </TableRow>\n        ))}\n        </TableBody>\n      </Table>)}\n    </Paper>\n  );\n};\n\nexport default Recipes;\n","import React from 'react';\n\nconst Brew: React.FC = () => {\n  return <div>Brew</div>;\n};\n\nexport default Brew;","import React from 'react';\nimport { useAuth0 } from '../Auth0Connect';\nimport { Avatar, Popover, makeStyles, Theme, Typography } from '@material-ui/core';\nimport Title from './Title';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  popover: {\n    padding: theme.spacing(2)\n  }\n}));\n\nconst Profile: React.FC = () => {\n  const { user } = useAuth0();\n  const [anchorEl, setAnchorEl] = React.useState<HTMLDivElement|null>(null);\n  const classes = useStyles();\n\n  const handleOpen = (e: React.MouseEvent<HTMLDivElement>): void => {\n    setAnchorEl(e.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open: boolean = Boolean(anchorEl);\n  const id = open ? 'profile-popover' : undefined;\n\n  return (\n    <React.Fragment>\n      <div onClick={handleOpen}>\n        <Avatar alt={user.name} src={user.picture} />     \n      </div>\n      <Popover \n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n      >\n        <div className={classes.popover}>\n          <Title>Profile</Title>\n\n          <Typography>Name: {user.name}</Typography>\n          <Typography>Email: {user.email}</Typography>\n        </div>\n      </Popover>\n    </React.Fragment>\n  );\n};\n\nexport default Profile;","import React from 'react';\nimport { Button, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from '@material-ui/core';\n\ntype Props = {\n  open: boolean,\n  onClose: (confirmed: boolean) => void,\n  text: string\n}\n\nconst Confirm: React.FC<Props> = (props: Props) => {\n  const { open, onClose, text } = props;\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={() => onClose(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Confirm</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {text}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => onClose(false)} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={() => onClose(true)} color=\"primary\" autoFocus>\n            Ok\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default Confirm;","import React, { useState } from 'react';\nimport { Button, Icon, CircularProgress } from '@material-ui/core';\nimport RemoveIcon from '@material-ui/icons/Delete';\nimport Confirm from './Confirm';\nimport api from '../Service/Api';\nimport { Redirect } from 'react-router-dom';\n\ntype Props = {\n  recipeId: string\n};\n\nconst ArchiveRecipeButton: React.FC<Props> = (props: Props) => {\n  const { recipeId } = props;\n  const [confirmOpen, setConfirmOpen] = useState<boolean>(false);\n  const [recipeArchived, setRecipeArchived] = useState<boolean>(false);\n  const [archiving, setArchiving] = useState<boolean>(false);\n\n  const handleArchive = () => {\n    setConfirmOpen(true);\n  };\n\n  const handleConfirmResult = async (confirmed: boolean) => {\n    setConfirmOpen(false);\n\n    if (!confirmed) {\n      return;\n    }\n\n    setArchiving(true);\n    await api.archiveRecipeById(recipeId);\n    setArchiving(false);\n\n    setRecipeArchived(true);\n  };\n\n  if (recipeArchived) {\n    return <Redirect to=\"/recipes\" />;\n  }\n\n  return (\n    <React.Fragment>\n      <Button color=\"secondary\" onClick={handleArchive}>\n        {archiving ? <CircularProgress size={24} /> : <Icon><RemoveIcon /></Icon>}\n        Archive\n      </Button>\n      <Confirm\n        text=\"Do you really want to archive this recipe?\"\n        open={confirmOpen}\n        onClose={handleConfirmResult}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default ArchiveRecipeButton;\n","import React from 'react';\nimport Recipe from '../Model/Recipe';\nimport moment from 'moment';\nimport { Typography } from '@material-ui/core';\n\ntype Props = {\n  recipe: Recipe\n};\n\nconst RecipeTimestamps: React.FC<Props> = ({ recipe }) => {\n  const createdAt = 'Created ' + moment(recipe.createdAt || undefined).fromNow();\n  \n  let updatedAt = 'never updated';\n\n  if (recipe.createdAt?.toString() !== recipe.updatedAt?.toString()) {\n    updatedAt = 'updated ' + moment(recipe.updatedAt || undefined).fromNow();\n  } \n\n  return <Typography variant=\"body2\">{createdAt}, {updatedAt}</Typography>;\n};\n\nexport default RecipeTimestamps;","import React, { useState } from 'react';\nimport { Dialog, DialogActions, Button, DialogContent, DialogTitle, DialogContentText, TextField } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport Hop from '../Model/Hop';\n\ntype Props = {\n  open: boolean,\n  onClose: (hop?: Hop) => void\n}\n\nconst NewHopDialog: React.FC<Props> = (props: Props) => {\n  const [name, setName] = useState<string>();\n  const [quantity, setQuantity] = useState<number>();\n  const [time, setTime] = useState<number>();\n\n  const handleSave = () => {\n    const hop = new Hop({\n      name,\n      quantity,\n      time\n    });\n\n    props.onClose(hop);\n  };\n\n  return (\n    <Dialog open={props.open} onClose={() => props.onClose()} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Add hop</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Please fill required fields\n        </DialogContentText>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          id=\"name\"\n          label=\"Name\"\n          type=\"text\"\n          fullWidth\n          onChange={(e) => setName(e.target.value)}\n        />\n        <TextField\n          type=\"number\"\n          margin=\"dense\"\n          id=\"quantity\"\n          label=\"Quantity (g)\"\n          fullWidth\n          onChange={(e) => setQuantity(+e.target.value)}\n        />\n        <TextField\n          type=\"number\"\n          margin=\"dense\"\n          id=\"time\"\n          label=\"Time from boil end (minutes)\"\n          fullWidth\n          onChange={(e) => setTime(+e.target.value)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => props.onClose()} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={handleSave} disabled={!name || !quantity} color=\"primary\">\n          Save\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nNewHopDialog.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired\n};\n\nexport default NewHopDialog;","import React, { useState } from 'react';\nimport Recipe from '../Model/Recipe';\nimport Paper from './Paper';\nimport { Grid, Button, Table, TableHead, TableRow, TableCell, TableBody, IconButton, CircularProgress, TableFooter } from '@material-ui/core';\nimport Title from './Title';\nimport NewHopDialog from './NewHopDialog';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport api from '../Service/Api';\nimport Hop from '../Model/Hop';\n\ntype Props = {\n  recipe: Recipe,\n  onHopAdded: (hop: Hop) => void,\n  onHopRemoved: (hop: Hop) => void\n};\n\nconst RecipeHops: React.FC<Props> = ({ recipe, onHopAdded, onHopRemoved }) => {\n  const [newHopDialogOpen, setNewHopDialogOpen] = useState<boolean>(false);\n  const [hopRemovals, setHopRemovals] = useState<string[]>([]);\n\n  const handleAddNewHop = async () => {\n    setNewHopDialogOpen(true);\n  };\n\n  const handleNewHopDialogResult = async (hop?: Hop) => {\n    setNewHopDialogOpen(false);\n\n    if (!hop || !recipe) {\n      return;\n    }\n\n    const result = await api.addHopToRecipe(hop, recipe.id);\n\n    onHopAdded(result);\n  };\n\n  const handleRemoveHop = (hopIndex: number) => {\n    return async () => {\n      if (!recipe) {\n        return;\n      }\n\n      const hop = recipe.hops[hopIndex];\n      setHopRemovals([...hopRemovals, hop.id]);\n\n      await api.removeHopFromRecipe(hop.id, recipe.id);\n\n      hopRemovals.splice(hopRemovals.indexOf(hop.id), 1);\n      setHopRemovals([...hopRemovals]);\n\n      onHopRemoved(hop);\n    };\n  };\n\n  return (\n    <Paper>\n      <Grid container direction=\"row\">\n        <Grid item xs>\n          <Title size=\"small\">Hops</Title>\n        </Grid>\n        <Grid item>\n          <Button color=\"primary\" onClick={handleAddNewHop}>\n            New hop\n          </Button>\n        </Grid>\n      </Grid>\n\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Name</TableCell>\n            <TableCell>Quantity (g)</TableCell>\n            <TableCell>Time (min)</TableCell>\n            <TableCell padding=\"checkbox\"></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {recipe.hops.sort((a: Hop, b: Hop) => b.time - a.time).map((hop, i) => (\n            <TableRow key={i}>\n              <TableCell component=\"th\">{hop.name}</TableCell>\n              <TableCell>{hop.quantity.toFixed(2)}</TableCell>\n              <TableCell>{hop.time}</TableCell>\n              <TableCell>\n                <IconButton size=\"small\" onClick={handleRemoveHop(i)}>\n                  {hopRemovals.indexOf(hop.id) >= 0 ?\n                    <CircularProgress size={24} /> :\n                    <DeleteIcon />\n                  }\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n        <TableFooter>\n          <TableRow>\n            <TableCell>Total</TableCell>\n            <TableCell>\n              {recipe.hops.reduce(\n                (total: number, h: Hop) => total += h.quantity,\n                0\n              ).toFixed(2)}\n            </TableCell>\n            <TableCell>-</TableCell>\n            <TableCell>-</TableCell>\n          </TableRow>\n        </TableFooter>\n      </Table>\n      <NewHopDialog open={newHopDialogOpen} onClose={handleNewHopDialogResult} />\n    </Paper>\n  );\n};\n\nexport default RecipeHops;\n","import React, { useState } from 'react';\nimport { Dialog, DialogActions, Button, DialogContent, DialogTitle, DialogContentText, TextField } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport Fermentable from '../Model/Fermentable';\n\ntype Props = {\n  open: boolean,\n  onClose: (fermentable?: Fermentable) => void\n}\n\nconst NewFermentableDialog: React.FC<Props> = (props: Props) => {\n  const [name, setName] = useState<string>();\n  const [quantity, setQuantity] = useState<number>();\n  const [color, setColor] = useState<number>();\n\n  const handleSave = () => {\n    const hop = new Fermentable({\n      name,\n      quantity,\n      color\n    });\n\n    props.onClose(hop);\n  };\n\n  return (\n    <Dialog open={props.open} onClose={() => props.onClose()} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Add fermentable</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Please fill required fields\n        </DialogContentText>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          id=\"name\"\n          label=\"Name\"\n          type=\"text\"\n          fullWidth\n          onChange={(e) => setName(e.target.value)}\n        />\n        <TextField\n          type=\"number\"\n          margin=\"dense\"\n          id=\"quantity\"\n          label=\"Quantity (kg)\"\n          fullWidth\n          onChange={(e) => setQuantity(+e.target.value)}\n        />\n        <TextField\n          type=\"number\"\n          margin=\"dense\"\n          id=\"color\"\n          label=\"Color (EBC)\"\n          fullWidth\n          onChange={(e) => setColor(+e.target.value)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => props.onClose()} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={handleSave} disabled={!name || !quantity} color=\"primary\">\n          Save\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nNewFermentableDialog.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired\n};\n\nexport default NewFermentableDialog;","import React, { useState } from 'react';\nimport Recipe from '../Model/Recipe';\nimport Paper from './Paper';\nimport { Grid, Button, Table, TableHead, TableRow, TableCell, TableBody, IconButton, CircularProgress, TableFooter } from '@material-ui/core';\nimport Title from './Title';\nimport NewFermentableDialog from './NewFermentableDialog';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport api from '../Service/Api';\nimport Fermentable from '../Model/Fermentable';\n\ntype Props = {\n  recipe: Recipe,\n  onFermentableAdded: (fermentable: Fermentable) => void,\n  onFermentableRemoved: (fermentable: Fermentable) => void\n};\n\nconst RecipeFermentables: React.FC<Props> = ({ recipe, onFermentableAdded, onFermentableRemoved }) => {\n  const [newFermentableDialogOpen, setNewFermentableDialogOpen] = useState<boolean>(false);\n  const [fermentableRemovals, setFermentableRemovals] = useState<string[]>([]);\n\n  const handleAddNewFermentable = async () => {\n    setNewFermentableDialogOpen(true);\n  };\n\n  const handleNewFermentableDialogResult = async (fermentable?: Fermentable) => {\n    setNewFermentableDialogOpen(false);\n\n    if (!fermentable || !recipe) {\n      return;\n    }\n\n    const result = await api.addFermentableToRecipe(fermentable, recipe.id);\n\n    onFermentableAdded(result);\n  };\n\n  const handleRemoveFermentable = (fermentableIndex: number) => {\n    return async () => {\n      if (!recipe) {\n        return;\n      }\n\n      const fermentable = recipe.fermentables[fermentableIndex];\n      setFermentableRemovals([...fermentableRemovals, fermentable.id]);\n\n      await api.removeFermentableFromRecipe(fermentable.id, recipe.id);\n\n      fermentableRemovals.splice(fermentableRemovals.indexOf(fermentable.id), 1);\n      setFermentableRemovals([...fermentableRemovals]);\n\n      onFermentableRemoved(fermentable);\n    };\n  };\n\n  const sortFermentables = (a: Fermentable, b: Fermentable) => b.quantity - a.quantity;\n\n  return (\n    <Paper>\n      <Grid container direction=\"row\">\n        <Grid item xs>\n          <Title size=\"small\">Fermentables</Title>\n        </Grid>\n        <Grid item>\n          <Button color=\"primary\" onClick={handleAddNewFermentable}>\n            New fermentable\n          </Button>\n        </Grid>\n      </Grid>\n\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Name</TableCell>\n            <TableCell>Quantity (kg)</TableCell>\n            <TableCell>Color (EBC)</TableCell>\n            <TableCell padding=\"checkbox\"></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {recipe.fermentables.sort(sortFermentables).map((fermentable, i) => (\n            <TableRow key={i}>\n              <TableCell component=\"th\">{fermentable.name}</TableCell>\n              <TableCell>{fermentable.quantity.toFixed(2)}</TableCell>\n              <TableCell>{fermentable.color}</TableCell>\n              <TableCell>\n                <IconButton size=\"small\" onClick={handleRemoveFermentable(i)}>\n                  {fermentableRemovals.indexOf(fermentable.id) >= 0 ?\n                    <CircularProgress size={24} /> :\n                    <DeleteIcon />\n                  }\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n        <TableFooter>\n          <TableRow>\n            <TableCell>Total</TableCell>\n            <TableCell>\n              {recipe.fermentables.reduce(\n                (total: number, f: Fermentable) => total += f.quantity,\n                0\n              ).toFixed(2)}\n            </TableCell>\n            <TableCell>-</TableCell>\n            <TableCell>-</TableCell>\n          </TableRow>\n        </TableFooter>\n      </Table>\n      <NewFermentableDialog open={newFermentableDialogOpen} onClose={handleNewFermentableDialogResult} />\n    </Paper>\n  );\n};\n\nexport default RecipeFermentables;\n","import React, { useState, useEffect } from 'react';\nimport Title from './Title';\nimport { useParams } from 'react-router-dom';\nimport { CircularProgress, TextField, Grid, makeStyles, Theme, createStyles, Typography, Button } from '@material-ui/core';\nimport Recipe from '../Model/Recipe';\nimport api from '../Service/Api';\nimport Paper from './Paper';\nimport ArchiveRecipeButton from './ArchiveRecipeButton';\nimport RecipeTimestamps from './RecipeTimestamps';\nimport RecipeHops from './RecipeHops';\nimport Hop from '../Model/Hop';\nimport RecipeFermentables from './RecipeFermentables';\nimport Fermentable from '../Model/Fermentable';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .MuiTextField-root': {\n        margin: theme.spacing(1),\n        marginLeft: 0\n      },\n    }\n  }),\n);\n\nconst RecipeDetails: React.FC = () => {\n  const { id } = useParams();\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState<boolean>(true);\n  const [recipe, setRecipe] = useState<Recipe|null>();\n  const [saving, setSaving] = useState<boolean>(false);\n\n  const handleChange = (key: string) => (e: any) => {\n    setRecipe(new Recipe({ ...recipe, [key]: e.target.value }));\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n\n    const result = await api.updateRecipe(recipe as Recipe);\n\n    // Remove this after sahtivahti/apigw#15 is fixed\n    const hack = JSON.parse(JSON.stringify(result));\n\n    setRecipe({...recipe, ...hack});\n    setSaving(false);\n  };\n\n  const handleAddHop = (hop: Hop) => {\n    recipe?.hops.push(hop);\n\n    if (!recipe) {\n      return;\n    }\n\n    setRecipe({ ...recipe, hops: recipe.hops });\n  };\n\n  const handleRemoveHop = (hop: Hop) => {\n    if (!recipe) {\n      return;\n    }\n\n    const hopIndex = recipe.hops.findIndex(x => x.id === hop.id);\n    recipe.hops.splice(hopIndex, 1);\n\n    setRecipe({ ...recipe, hops: recipe.hops });\n  };\n\n  const handleAddFermentable = (fermentable: Fermentable) => {\n    if (!recipe) {\n      return;\n    }\n\n    recipe.fermentables.push(fermentable);\n\n    setRecipe({ ...recipe, fermentables: recipe.fermentables });\n  };\n\n  const handleRemoveFermentable = (fermentable: Fermentable) => {\n    if (!recipe) {\n      return;\n    }\n\n    const fermentableIndex = recipe.fermentables.findIndex(x => x.id === fermentable.id);\n    recipe.fermentables.splice(fermentableIndex, 1);\n\n    setRecipe({ ...recipe, fermentables: recipe.fermentables });\n  };\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n\n      if (!id) {\n        return;\n      }\n\n      const recipe = await api.getRecipeDetailsById(id);\n\n      setRecipe(recipe);\n      setLoading(false);\n    })();\n  }, [id]);\n\n  if (loading) {\n    return <CircularProgress />;\n  }\n\n  if (!recipe) {\n    return <Typography>Can't load recipe :/</Typography>\n  }\n\n  return (\n    <React.Fragment>\n      <Grid container direction=\"row\" alignContent=\"space-between\" alignItems=\"flex-start\" spacing={2}>\n        <Grid item xs>\n          <Title>Editing recipe \"{recipe.name}\"</Title>\n        </Grid>\n        <Grid item container xs={3} justify=\"flex-end\">\n          <ArchiveRecipeButton recipeId={recipe.id} />\n        </Grid>\n      </Grid>\n\n      <RecipeTimestamps recipe={recipe} />\n      <br />\n\n      <Grid container spacing={2}>\n        <Grid item xs={12} md={6}>\n          <Paper>\n            <Title size=\"small\">Basics</Title>\n\n            <form className={classes.root}>\n              <TextField\n                id=\"name\"\n                onChange={handleChange('name')}\n                value={recipe.name}\n                label=\"Name\"\n                fullWidth\n              />\n\n              <TextField\n                id=\"author\"\n                value={recipe.author}\n                label=\"Author\"\n                disabled\n                fullWidth\n              />\n\n              <TextField\n                id=\"style\"\n                value={recipe.style}\n                onChange={handleChange('style')}\n                label=\"Style\"\n                fullWidth\n              />\n\n              <TextField\n                id=\"batchSize\"\n                type=\"number\"\n                value={recipe.batchSize}\n                onChange={handleChange('batchSize')}\n                label=\"Batch size (l)\"\n                fullWidth\n              />\n            </form>\n\n            <Grid container direction=\"row\" justify=\"flex-end\">\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleSave}\n                disabled={saving}\n              >\n                Save\n              </Button>\n            </Grid>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12} md={6}>\n          <RecipeHops\n            recipe={recipe}\n            onHopAdded={handleAddHop}\n            onHopRemoved={handleRemoveHop}\n          />\n        </Grid>\n\n        <Grid item xs={12} md={6}>\n          <RecipeFermentables\n            recipe={recipe}\n            onFermentableAdded={handleAddFermentable}\n            onFermentableRemoved={handleRemoveFermentable}\n          />\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default RecipeDetails;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport Box from '@material-ui/core/Box';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport Copyright from './Copyright';\nimport RecentBrew from './RecentBrew';\nimport MenuItems from './MenuItems';\nimport { Route, Switch } from 'react-router-dom';\nimport Recipes from './Recipes';\nimport Brew from './Brew';\nimport Profile from './Profile';\nimport RecipeDetails from './RecipeDetails';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeight: {\n    height: 240,\n  },\n}));\n\nconst Dashboard: React.FC = () => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\n            Sahtivahti\n          </Typography>\n          <Profile />\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <MenuItems />\n        <Divider />\n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <Switch>\n                <Route exact path=\"/recipes\">\n                  <Recipes />\n                </Route>\n                <Route path=\"/recipes/:id\">\n                  <RecipeDetails />\n                </Route>\n                <Route path=\"/brew\">\n                  <Brew />\n                </Route>\n                <Route path=\"/\">\n                  <RecentBrew />\n                </Route>\n              </Switch>\n            </Grid>\n          </Grid>\n          <Box pt={4}>\n            <Copyright />\n          </Box>\n        </Container>\n      </main>\n    </div>\n  );\n};\n\nexport default Dashboard;","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Copyright from './Copyright';\nimport { useAuth0 } from '../Auth0Connect';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(24),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignIn() {\n  const classes = useStyles();\n  const { loginWithRedirect } = useAuth0();\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in to Sahtivahti\n        </Typography>\n        <Button\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n          onClick={loginWithRedirect}\n        >\n          Sign In\n        </Button>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}","import React from 'react';\nimport Dashboard from './Component/Dashboard';\nimport { HashRouter as Router } from 'react-router-dom';\nimport SignIn from './Component/SignIn';\nimport { useAuth0 } from './Auth0Connect';\n\nconst App: React.FC = () => {  \n  const { isAuthenticated, loading } = useAuth0();\n\n  if (loading) {\n    return <div></div>;\n  }\n\n  return (\n    <div>\n      <Router>\n        {!isAuthenticated && <SignIn />}\n        {isAuthenticated && <Dashboard />}\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Auth0Provider } from './Auth0Connect';\nimport { config } from './Service/Config';\n\nconst auth0Config = {\n  domain: 'sahtivahti.eu.auth0.com',\n  clientId: 'ASuV7V1Uw16A5wQiebQBJgxiz4vnph13',\n  audience: 'https://api.sahtivahti.fi',\n  redirectUri: config.baseurl\n};\n\nReactDOM.render(\n  <Auth0Provider\n    domain={auth0Config.domain}\n    client_id={auth0Config.clientId}\n    redirect_uri={auth0Config.redirectUri}\n    audience={auth0Config.audience}\n    logout\n  >\n    <App />\n  </Auth0Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}